use std::{collections::HashMap, sync::LazyLock};

#[derive(Debug, Clone, PartialEq, Eq)]
pub struct Character {
	width: u32,
	pixels: Vec<u8>,
}

impl Character {
	#[inline]
	pub const fn width(&self) -> u32 {
		self.width
	}

	#[inline]
	pub fn pixels(&self) -> &[u8] {
		&self.pixels
	}
}

pub static FONT: LazyLock<HashMap<char, Character>> = LazyLock::new(build_font);

fn build_font() -> HashMap<char, Character> {
	let chars = [
		('A', (3, vec![0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1])),
		('B', (3, vec![1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0])),
		('C', (3, vec![0, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 1])),
		('D', (3, vec![1, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0])),
		('E', (3, vec![1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1])),
		('F', (3, vec![1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0])),
		('G', (3, vec![0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1])),
		('H', (3, vec![1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1])),
		('I', (3, vec![1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1])),
		('J', (3, vec![0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0])),
		('K', (3, vec![1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1])),
		('L', (3, vec![1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1])),
		('M', (3, vec![1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1])),
		('N', (3, vec![1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1])),
		('O', (3, vec![0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0])),
		('P', (3, vec![1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0])),
		('Q', (3, vec![0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1])),
		('R', (3, vec![1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1])),
		('S', (3, vec![0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0])),
		('T', (3, vec![1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0])),
		('U', (3, vec![1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1])),
		('V', (3, vec![1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0])),
		('W', (3, vec![1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1])),
		('X', (3, vec![1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1])),
		('Y', (3, vec![1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0])),
		('Z', (3, vec![1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 1])),
		('/', (3, vec![0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0])),
		('.', (3, vec![0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0])),
		(' ', (1, vec![0, 0, 0, 0, 0])),
		('1', (3, vec![0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1])),
		('2', (3, vec![1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1])),
		('3', (3, vec![1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1])),
		('4', (3, vec![1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1])),
		('5', (3, vec![1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1])),
		('6', (3, vec![1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1])),
		('7', (3, vec![1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1])),
		('8', (3, vec![1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1])),
		('9', (3, vec![1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1])),
		('0', (3, vec![1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1])),
	];

	chars
		.into_iter()
		.map(|(c, (width, pixels))| (c, Character { width, pixels }))
		.collect()
}
